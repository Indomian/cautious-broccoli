{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-1fb00efa9d0fa29d.js","src/utils/onReady.js","src/utils/getElement.js","node_modules/@swc/helpers/src/_define_property.mjs","src/render/vector/vec2.js","src/render/items/item.js","src/render/items/circle.js","src/render/objects/types.js","src/render/objects/collisionModels.js","src/render/objects/object.js","src/render/constrains/constrain.js","src/render/constrains/viewport.js","src/render/constrains/circle.js","src/render/objectsGenerator.js","src/render/mappedObjectsGenerator.js","src/render/totalObjectsGenerator.js","src/render/solver.js","src/render/items/rect.js","src/render/renderableObjects/object.js","src/render/objects/immovable.js","src/render/renderableObjects/immovableLine.js","src/render/objects/immovableLine.js","src/render/items/line.js","src/render/items/circleWithText.js","src/render/index.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/helpers/get-worker-url.js","node_modules/@parcel/runtime-js/lib/runtime-00da8f0af75b5284.js","src/host/main.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5d7Nu\\\":\\\"index.5ed5374c.js\\\",\\\"gVigP\\\":\\\"main.4487a6d6.js\\\"}\"));","const DOCUMENT_STATE_LOADING = \"loading\";\n\n/**\n * Calls function when webpage is ready\n * @param {function} callback\n */\nexport function onReady(callback) {\n    if (document.readyState !== DOCUMENT_STATE_LOADING) {\n        callback();\n    } else {\n        document.addEventListener(\"DOMContentLoaded\", callback);\n    }\n}\n","export class ElementNotFound extends Error {}\n\nexport function getElement(selector) {\n    const element = document.querySelector(selector);\n    if (!element) {\n        throw new ElementNotFound(selector);\n    }\n\n    return element;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","export const MATH_ERROR = 0.000001;\n\nexport function isEqual(a, b, error) {\n    return Math.abs(a - b) < error;\n}\n\nexport class NoPerpendicularVectorToZeroVector extends Error {}\n\nexport class Vec2 {\n    x = 0;\n    y = 0;\n\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    /**\n     * Adds vec2 to current vector\n     * @param {Vec2} vec2\n     * @returns {Vec2}\n     */\n    add(vec2) {\n        this.x += vec2.x;\n        this.y += vec2.y;\n        return this;\n    }\n\n    /**\n     * Subtract from current vector given vector\n     * @param {Vec2} vec2\n     * @returns {Vec2}\n     */\n    sub(vec2) {\n        this.x -= vec2.x;\n        this.y -= vec2.y;\n        return this;\n    }\n\n    /**\n     * Flips along X axis\n     * @returns {Vec2}\n     */\n    flipY() {\n        this.y = -this.y;\n        return this;\n    }\n\n    /**\n     * Flips along Y axis\n     * @returns {Vec2}\n     */\n    flipX() {\n        this.x = -this.x;\n        return this;\n    }\n\n    flip() {\n        this.x = -this.x;\n        this.y = -this.y;\n        return this;\n    }\n\n    /**\n     * Checks if this vector equals given vector using global MATH_ERROR const\n     * @param vec2\n     */\n    equals(vec2) {\n        return Vec2Math.distance(this, vec2) < MATH_ERROR;\n    }\n\n    /**\n     * Sums current vector and given vector and returns new vector\n     * @param {Vec2} vec2\n     * @returns {Vec2}\n     */\n    sum(vec2) {\n        return new Vec2(this.x + vec2.x, this.y + vec2.y);\n    }\n\n    /**\n     * Calculate difference between current vector and given vector and returns\n     * new vector\n     *\n     * @param {Vec2} vec2\n     * @returns {Vec2}\n     */\n    diff(vec2) {\n        return new Vec2(this.x - vec2.x, this.y - vec2.y);\n    }\n\n    /**\n     * Multiplicates vector by numner\n     * @param {number} value\n     * @returns {Vec2}\n     */\n    mul(value) {\n        return new Vec2(this.x * value, this.y * value);\n    }\n\n    copy() {\n        return new Vec2(this.x, this.y);\n    }\n\n    get length() {\n        return Math.sqrt(this.x*this.x + this.y*this.y);\n    }\n\n    /**\n     * Returns normalized vector\n     * @returns {Vec2}\n     */\n    get normalized() {\n        const l = this.length;\n        return new Vec2(this.x / l, this.y / l);\n    }\n\n    get perpendicular() {\n        if (this.x === 0) {\n            // Vertical\n            if (this.y > 0) {\n                return Vec2.Horizontal().normalized\n            } else if (this.y < 0) {\n                return Vec2.Horizontal().normalized.flip();\n            } else {\n                throw new NoPerpendicularVectorToZeroVector();\n            }\n        } else if (this.y === 0) {\n            // Horizontal\n            if (this.x > 0) {\n                return Vec2.Vertical().normalized\n            } else if (this.x < 0) {\n                return Vec2.Vertical().normalized.flip();\n            }\n        }\n\n        return new Vec2(\n            -this.y / this.x,\n            1\n        ).normalized;\n    }\n\n    static Zero() {\n        return new Vec2(0, 0);\n    }\n\n    static Horizontal() {\n        return new Vec2(1, 0);\n    }\n\n    static Vertical() {\n        return new Vec2(0, 1);\n    }\n}\n\nexport class Vec2Line {\n    _vec1 = Vec2.Zero();\n    _vec2 = Vec2.Zero();\n\n    _direction = null;\n    _length = 0;\n\n    /**\n     * Y = K*X + B\n     * @type {number}\n     */\n    k = 0;\n    b = 0;\n\n    constructor(vec1, vec2) {\n        this._vec1 = vec1;\n        this._vec2 = vec2;\n\n        this._direction = Vec2Math.diff(this._vec1, this._vec2);\n        this._length = this._direction.length;\n        this._normalized = this._direction.normalized;\n\n        this.calculateKB();\n    }\n\n    /**\n     * Determines if given point lays on the line\n     * @param vec\n     * @returns {boolean}\n     */\n    inBetween(vec) {\n        const l1 = Vec2Math.diff(vec, this._vec1).length;\n        const l2 = Vec2Math.diff(this._vec2, vec).length;\n        const l = Vec2Math.diff(this._vec1, this._vec2).length;\n        return isEqual(l, l1 + l2, MATH_ERROR);\n    }\n\n    calculateKB() {\n        if (this._vec1.y === this._vec2.y) {\n            // Horizontal line\n            this.b = this._vec1.y;\n            this.k = 0;\n        } else if (this._vec1.x === this._vec2.x) {\n            // Vertical line\n            this.b = NaN;\n            this.k = NaN;\n        } else {\n            this.b = (this._vec1.x * this._vec2.y - this._vec1.y * this._vec2.x) / (this._vec1.x - this._vec2.x)\n            this.k = (this._vec1.y - this._vec2.y) / (this._vec1.x - this._vec2.x);\n        }\n    }\n\n    makeVec2FromX(x) {\n        return new Vec2(x, this.k * x + this.b);\n    }\n\n    copy() {\n        return new Vec2Line(\n            this._vec1,\n            this._vec2\n        )\n    }\n\n    moveBy(vec) {\n        this._vec1.add(vec);\n        this._vec2.add(vec);\n        this.calculateKB();\n    }\n\n    getPointProjection(vec) {\n        const a = this.direction;\n        const b = Vec2Math.diff(vec, this._vec1);\n        const distance = b.length;\n        const cosabD = Vec2Math.dot(a, b) / (this.length);\n\n        return this._vec1.sum(\n            this.ort.copy().mul(cosabD)\n        );\n    }\n\n    get B() {\n        return this.b;\n    }\n\n    get K() {\n        return this.k;\n    }\n\n    get length() {\n        return this._length;\n    }\n\n    get direction() {\n        return this._direction;\n    }\n\n    get ort() {\n        return this._normalized;\n    }\n\n    get vec1() {\n        return this._vec1;\n    }\n\n    get vec2() {\n        return this._vec2;\n    }\n\n    static Vertical(x) {\n        return new Vec2Line(\n            new Vec2(x, 0),\n            new Vec2(x, Number.MAX_SAFE_INTEGER)\n        )\n    }\n\n    static Horizontal(y) {\n        return new Vec2Line(\n            new Vec2(0, y),\n            new Vec2(Number.MAX_SAFE_INTEGER, y)\n        )\n    }\n}\n\nexport class ExceptionParallel extends Error {}\n\nexport class Vec2Math {\n    static diff(vec1, vec2) {\n        return new Vec2(vec1.x - vec2.x, vec1.y - vec2.y);\n    }\n\n    static mul(vec1, scalar) {\n        return new Vec2(vec1.x * scalar, vec1.y * scalar);\n    }\n\n    /**\n     * Calculates distance between 2 vectors\n     * @param {Vec2} vec1\n     * @param {Vec2} vec2\n     * @returns {number}\n     */\n    static distance(vec1, vec2) {\n        return Vec2Math.diff(vec1, vec2).length;\n    }\n\n    /**\n     * Finds intersection between 2 lines\n     * @param {Vec2Line} line1\n     * @param {Vec2Line} line2\n     * @returns {Vec2}\n     */\n    static intersect(line1, line2) {\n        if (line1.K === line2.K) {\n            throw new ExceptionParallel()\n        }\n\n        if (isNaN(line1.K) || isNaN(line2.K)) {\n            // One of two lines is vertical\n            if (isNaN(line1.K)) {\n                return line2.makeVec2FromX(line1._vec1.x);\n            } else {\n                return line1.makeVec2FromX(line2._vec1.x);\n            }\n        } else {\n            const x = (line1.B - line2.B) / (line2.K - line1.K);\n            return line1.makeVec2FromX(x);\n        }\n    }\n\n    /**\n     * Dot product of 2 vectors\n     * @param {Vec2} vec1\n     * @param {Vec2} vec2\n     * @returns {number}\n     */\n    static dot(vec1, vec2) {\n        return vec1.x * vec2.x + vec1.y * vec2.y;\n    }\n\n    /**\n     *\n     * @param {Vec2} vec\n     * @param {Vec2Line} line\n     * @returns {Vec2}\n     */\n    static mirror(vec, line) {\n        const normal = line.direction.perpendicular.normalized;\n        return vec.copy().sub(\n            normal.mul(2 * Vec2Math.dot(vec, normal))\n        );\n    }\n}\n","import {Vec2} from \"../vector/vec2\";\n\nexport class Item {\n    position = Vec2.Zero();\n\n    /**\n     *\n     * @param {CanvasRenderingContext2D} context\n     */\n    constructor(context, position) {\n        this.context = context;\n        this.position = position;\n    }\n\n    render() {\n\n    }\n}","import {Item} from \"./item\";\n\nexport class Circle extends Item {\n    r = 0;\n    color = '#00ff00';\n\n    constructor(context, position, r, color) {\n        super(context, position);\n\n        if (r) {\n            this.r = r;\n        }\n\n        if (color) {\n            this.color = color;\n        }\n    }\n\n    render() {\n        this.context.beginPath()\n        this.context.arc(\n            this.position.x,\n            this.position.y,\n            this.r,\n            0,\n            2 * Math.PI\n        )\n\n        this.context.fillStyle = this.color;\n        this.context.fill();\n    }\n}","export const TYPE_BALL = 1;\nexport const TYPE_IMMOVABLE_BALL = 2;\nexport const TYPE_IMMOVABLE_LINE = 3;","import {Vec2Math} from \"../vector/vec2\";\nimport {BallsObject} from \"./object\";\nimport {TYPE_BALL, TYPE_IMMOVABLE_BALL, TYPE_IMMOVABLE_LINE} from \"./types\";\n\n/**\n * Collision between 2 balls objects\n * @param {BallsObject} obj1\n * @param {BallsObject} obj2\n */\nexport function collideBallAndBall(obj1, obj2) {\n    const between = Vec2Math.diff(obj1.currentPosition, obj2.currentPosition);\n    const distance = between.length;\n    const requiredDistance = obj1.radius + obj2.radius;\n\n    if (distance < requiredDistance) {\n        const normalized = between.normalized;\n        const delta = requiredDistance - distance;\n        obj1.currentPosition.add(Vec2Math.mul(normalized, obj1.radius / requiredDistance * delta * obj1.bounceValue));\n        obj2.currentPosition.sub(Vec2Math.mul(normalized, obj2.radius / requiredDistance * delta * obj2.bounceValue));\n    }\n}\n\n/**\n * Collision between ball and immovable ball\n * @param {BallsObject} ball\n * @param {ImmovableBallsObject} immovable\n */\nexport function collideBallAndImmovableBall(ball, immovable) {\n    const between = Vec2Math.diff(\n        ball.currentPosition,\n        immovable.currentPosition\n    );\n\n    const distance = between.length;\n    const requiredDistance = ball.radius + immovable.radius;\n\n    if (distance < requiredDistance) {\n        const normalized = between.normalized;\n        const delta = requiredDistance - distance;\n        ball.currentPosition.add(Vec2Math.mul(normalized, ball.radius / requiredDistance * delta * ball.bounceValue));\n    }\n}\n\n/**\n * Collision between ball and immovable line\n * @param {BallsObject} ball\n * @param {ImmovableLineObject} line\n */\nexport function collideBallAndImmovableLine(ball, line) {\n    try {\n        const projectionPoint = line._line.getPointProjection(ball.currentPosition);\n\n        if (line._line.inBetween(projectionPoint)) {\n            const between = Vec2Math.diff(\n                projectionPoint,\n                ball.currentPosition\n            )\n\n            if (between.length < ball.radius) {\n                const normalized = between.normalized;\n\n                const delta = ball.radius - between.length;\n\n                ball.currentPosition.sub(\n                    Vec2Math.mul(normalized, delta * ball.bounceValue)\n                )\n            }\n        }\n    } catch (e) {\n    }\n}\n\nexport function collide(obj1, obj2) {\n    if (obj1.type > obj2.type) {\n        [obj2, obj1] = [obj1, obj2];\n    }\n\n    switch (true) {\n        case obj1.type === TYPE_BALL && obj2.type === TYPE_BALL:\n            return collideBallAndBall(obj1, obj2);\n        case obj1.type === TYPE_BALL && obj2.type === TYPE_IMMOVABLE_BALL:\n            return collideBallAndImmovableBall(obj1, obj2);\n        case obj1.type === TYPE_BALL && obj2.type === TYPE_IMMOVABLE_LINE:\n            return collideBallAndImmovableLine(obj1, obj2);\n        default:\n            return;\n    }\n}","import {Vec2, Vec2Line, Vec2Math} from \"../vector/vec2\";\nimport {TYPE_BALL} from \"./types\";\nimport {collide} from \"./collisionModels\";\n\nexport class BallsObject {\n    previousPosition = Vec2.Zero();\n    currentPosition = Vec2.Zero();\n\n    acc = Vec2.Zero();\n\n    radius = 10;\n    bounceValue = 1.1;\n\n    type = TYPE_BALL;\n\n    /**\n     * Creates balls object\n     * @param {Vec2} position\n     * @param {number} [radius]\n     */\n    constructor(position, radius) {\n        this.previousPosition = position.copy();\n        this.currentPosition = position.copy();\n        if (radius !== undefined) {\n            this.radius = radius\n        }\n    }\n\n    /**\n     * Updates state of object\n     * @param {number} step\n     */\n    update(step) {\n        const velocity = this.velocity;\n        this.previousPosition = this.currentPosition.copy();\n        this.currentPosition.add(\n            velocity.add(\n                this.acc.mul(step * step)\n            )\n        )\n        this.acc = Vec2.Zero();\n    }\n\n    accelerate(acc) {\n        this.acc.add(acc);\n        return this;\n    }\n\n    setVelocity(vel) {\n        this.velocity = vel;\n        return this;\n    }\n\n    /**\n     *\n     * @param {BallsObject} obj\n     */\n    collide(obj) {\n        collide(this, obj)\n    }\n\n    flip() {\n        const position = this.currentPosition.copy();\n        this.currentPosition = this.previousPosition;\n        this.previousPosition = position;\n    }\n\n    get velocity() {\n        return Vec2Math.diff(\n            this.currentPosition,\n            this.previousPosition\n        );\n    }\n\n    set velocity(v) {\n        this.previousPosition = Vec2Math.diff(this.currentPosition,v);\n    }\n\n    /**\n     *\n     * @returns {Vec2Line}\n     */\n    get movementVector() {\n        return new Vec2Line(this.previousPosition, this.currentPosition);\n    }\n}","export class Constrain {\n    constructor() {\n    }\n\n    /**\n     *\n     * @param {BallsObject} obj\n     */\n    applyConstrain(obj) {\n\n    }\n}","import {Constrain} from \"./constrain\";\nimport {Vec2, Vec2Line, Vec2Math} from \"../vector/vec2\";\n\nexport class ViewportConstrain extends Constrain {\n    _width = 0;\n    _height = 0;\n\n    constructor(width, height) {\n        super()\n        this.width = width;\n        this.height = height;\n    }\n\n    get width() {\n        return this._width;\n    }\n\n    set width(width) {\n        this._width = width;\n    }\n\n    get height() {\n        return this._height;\n    }\n\n    set height(height) {\n        this._height = height;\n    }\n\n    applyConstrain(obj) {\n        super.applyConstrain(obj);\n\n        if (obj.currentPosition.x - obj.radius < 0) {\n            obj.currentPosition.x = obj.radius;\n        }\n\n        if (obj.currentPosition.x + obj.radius > this._width) {\n            obj.currentPosition.x = this._width - obj.radius;\n        }\n\n        if (obj.currentPosition.y - obj.radius < 0) {\n            obj.currentPosition.y = obj.radius;\n        }\n\n        if (obj.currentPosition.y + obj.radius > this._height) {\n            obj.currentPosition.y = this._height - obj.radius;\n        }\n    }\n}","import {Constrain} from \"./constrain\";\nimport {Vec2} from \"../vector/vec2\";\n\nexport class CircleConstrain extends Constrain {\n    /**\n     *\n     * @type {Vec2}\n     */\n    center = Vec2.Zero();\n\n    radius = 0;\n\n    constructor(center, radius) {\n        super();\n\n        this.center = center;\n        this.radius = radius;\n    }\n\n    applyConstrain(obj) {\n        super.applyConstrain(obj);\n\n        const toCenter = obj.currentPosition.diff(this.center);\n        const distance = toCenter.length;\n        const r = obj.radius;\n\n        if (distance > (this.radius - r)) {\n            const n = toCenter.normalized;\n            obj.currentPosition = this.center.sum(\n                n.mul(this.radius - r)\n            );\n        }\n    }\n\n}","export class ObjectsGenerator {\n    solver = null;\n    constructor(solver) {\n        this.solver = solver;\n    }\n\n    // TODO Make me iterator\n    getNextObject(step) {\n        return null;\n    }\n}","import {ObjectsGenerator} from \"./objectsGenerator\";\n\n\nexport class MappedObjectGeneratorItem {\n    /**\n     * Delay before object appear\n     * @type {number}\n     */\n    timeout;\n\n    /**\n     * Object configuration\n     * @type {BallsObject}\n     */\n    object;\n\n    constructor(timeout, object) {\n        this.timeout = timeout;\n        this.object = object;\n    }\n\n}\n\nexport class MappedObjectsGenerator extends ObjectsGenerator {\n    /**\n     * @param {MappedObjectGeneratorItem[]} map\n     */\n    constructor(solver, map) {\n        super(solver);\n\n        this.items = map;\n        this.currentTime = 0;\n    }\n\n    getNextObject(step) {\n        this.currentTime += step;\n\n        console.log(this.currentTime)\n\n        const index = this.items.findIndex((item) => item.timeout < this.currentTime);\n        if (index > -1) {\n            return this.items.splice(index, 1)[0].object;\n        }\n    }\n}","import {ObjectsGenerator} from \"./objectsGenerator\";\n\nexport class TotalObjectsGenerator extends ObjectsGenerator {\n    constructor(solver, count, delay, createCallback) {\n        super(solver);\n        this.limit = count;\n        this.total = 0;\n\n        this.delay = delay;\n        this.create = createCallback;\n        this.lastCreateTime = 0;\n    }\n\n    getNextObject(step) {\n        if (this.total > this.limit) {\n            return;\n        }\n\n        this.lastCreateTime += 1;\n        if (this.lastCreateTime > this.delay) {\n            const newItem = this.create(this.total);\n            this.lastCreateTime = 0;\n            this.total++;\n\n            return newItem;\n        }\n    }\n}","import {Vec2} from \"./vector/vec2\";\nimport {BallsObject} from \"./objects/object\";\n\nexport class Solver {\n    /**\n     * List of balls\n     * @type {BallsObject[]}\n     */\n    objects = []\n\n    /**\n     * @type {Constrain}\n     */\n    constrains = null;\n\n    constructor() {\n        this.gravity = Vec2.Zero();\n\n        this.objects = [];\n\n        this.subSteps = 4;\n\n        this.configure();\n    }\n\n    configure() {\n        this.gravity = new Vec2(0, 100);\n\n        this.useFixedTime = true;\n        this.step = 0.017 / this.subSteps;\n    }\n\n    /**\n     *\n     * @param {BallsObject} obj\n     */\n    addObject(obj) {\n        this.objects.push(obj);\n    }\n\n    /**\n     * Update the simulation by given step.\n     * @param {number} time amount of seconds passed since last update.\n     */\n    update(time) {\n        const subTime = this.useFixedTime ? this.step : time / this.subSteps;\n        for (let i = 0; i < this.subSteps; i++) {\n            this.applyGravity();\n            this.applyConstrains();\n            this.processCollisions();\n            this.updateObjects(subTime);\n        }\n    }\n\n    /**\n     * Update objects state\n     * @param {number} time amount of seconds passed since last update\n     */\n    updateObjects(time) {\n        this.objects.forEach(obj => obj.update(time))\n    }\n\n    applyGravity() {\n        this.objects.forEach(obj => obj.accelerate(this.gravity))\n    }\n\n    applyConstrains() {\n        this.objects.forEach(obj => this.constrains.applyConstrain(obj))\n    }\n\n    processCollisions() {\n        this.objects.forEach(objA => {\n            this.objects.forEach(objB => {\n                if (objA === objB) {\n                    return;\n                }\n\n                objA.collide(objB);\n            })\n        })\n    }\n}","import {Item} from \"./item\";\nimport {Vec2} from \"../vector/vec2\";\n\nexport class Rect extends Item {\n    size = Vec2.Zero();\n    color = '#00ff00';\n\n    constructor(context, position, size, color) {\n        super(context, position);\n\n        this.size = size;\n\n        if (color) {\n            this.color = color;\n        }\n    }\n\n    render() {\n        this.context.fillStyle = this.color;\n        this.context.fillRect(\n            this.position.x,\n            this.position.y,\n            this.position.x + this.size.x,\n            this.position.y + this.size.y\n        )\n    }\n}","export class RenderableObject {\n    /**\n     * @type {BallsObject}\n     */\n    ballsObject = null;\n\n    /**\n     * @type {Item}\n     */\n    renderItem = null;\n\n    constructor(ballsObject, renderItem) {\n        this.ballsObject = ballsObject;\n        this.renderItem = renderItem;\n    }\n\n    update() {\n        this.renderItem.position = this.ballsObject.currentPosition;\n    }\n\n    render() {\n        this.update();\n        this.renderItem.render();\n    }\n}","import {BallsObject} from \"./object\";\nimport {TYPE_IMMOVABLE_BALL} from \"./types\";\n\nexport class ImmovableBallsObject extends BallsObject {\n    type = TYPE_IMMOVABLE_BALL;\n\n    /**\n     * @type {Vec2}\n     * @private\n     */\n    _fixedPosition = null;\n\n    /**\n     * @param {Vec2} position\n     * @param {number} [radius]\n     */\n    constructor(position, radius) {\n        super(position, radius);\n        this._fixedPosition = position.copy();\n    }\n\n    update(step) {\n        this.currentPosition = this._fixedPosition;\n        this.previousPosition = this._fixedPosition;\n    }\n}","import {RenderableObject} from \"./object\";\n\nexport class ImmovableLineRenderableObject extends RenderableObject {\n    /**\n     * @type {ImmovableLineObject}\n     */\n    ballsObject = null;\n\n    constructor(ballsObject, renderItem) {\n        super(ballsObject);\n        this.ballsObject = ballsObject;\n        this.renderItem = renderItem;\n    }\n\n    update() {\n        super.update();\n        this.renderItem.direction = this.ballsObject._direction;\n    }\n}","import {BallsObject} from \"./object\";\nimport {Vec2Line} from \"../vector/vec2\";\nimport {TYPE_IMMOVABLE_LINE} from \"./types\";\n\nexport class ImmovableLineObject extends BallsObject {\n    _direction;\n    _line;\n\n    type = TYPE_IMMOVABLE_LINE;\n\n    constructor(position, direction) {\n        super(position, 0);\n        this._direction = direction;\n\n        this._line = new Vec2Line(\n            this.currentPosition.copy(),\n            this.currentPosition.copy().sum(this._direction)\n        )\n    }\n\n    update(step) {\n        this.currentPosition = this._line._vec1;\n        this.previousPosition = this._line._vec2;\n    }\n\n}","import {Item} from \"./item\";\nimport {Vec2} from \"../vector/vec2\";\n\nexport class Line extends Item {\n    direction = Vec2.Zero();\n    color = '#00ff00';\n\n    constructor(context, position, direction, color) {\n        super(context, position);\n\n        this.direction = direction;\n\n        if (color) {\n            this.color = color;\n        }\n    }\n\n    render() {\n        this.context.strokeStyle = this.color;\n        this.context.beginPath(); // Start a new path\n        this.context.moveTo(this.position.x, this.position.y);\n        this.context.lineTo(\n            this.position.x + this.direction.x,\n            this.position.y + this.direction.y\n        );\n        this.context.stroke(); // Render the path\n    }\n}","import {Circle} from \"./circle\";\n\nexport class CircleWithText extends Circle {\n    text = '';\n    textColor = '#ffffff';\n\n    constructor(context, position,r, color, text, textColor) {\n        super(context, position, r, color);\n        this.text = text;\n        if (textColor) {\n            this.textColor = textColor;\n        }\n    }\n\n    render() {\n        super.render();\n        this.context.fillStyle = this.textColor;\n        this.context.textBaseline = \"middle\";\n        this.context.textAlign = \"center\";\n        this.context.fillText(this.text, this.position.x, this.position.y);\n    }\n}","import {Circle} from \"./items/circle\";\nimport {Vec2, Vec2Math} from \"./vector/vec2\";\nimport {BallsObject} from \"./objects/object\";\nimport {ViewportConstrain} from \"./constrains/viewport\";\nimport {CircleConstrain} from \"./constrains/circle\";\nimport {Velocity} from \"./items/velocity\";\nimport {MappedObjectGeneratorItem, MappedObjectsGenerator} from \"./mappedObjectsGenerator\";\nimport {TotalObjectsGenerator} from \"./totalObjectsGenerator\";\nimport {Solver} from \"./solver\";\nimport {Rect} from \"./items/rect\";\nimport {RenderableObject} from \"./renderableObjects/object\";\nimport {ImmovableBallsObject} from \"./objects/immovable\";\nimport {ImmovableLineRenderableObject} from \"./renderableObjects/immovableLine\";\nimport {ImmovableLineObject} from \"./objects/immovableLine\";\nimport {Line} from \"./items/line\";\nimport {CircleWithText} from \"./items/circleWithText\";\n\nconst balls = [\n    new MappedObjectGeneratorItem(\n        1,\n        new BallsObject(new Vec2(10, 10))\n    ),\n    new MappedObjectGeneratorItem(\n        2,\n        new BallsObject(new Vec2(10, 10))\n    ),\n    new MappedObjectGeneratorItem(\n        3,\n        new BallsObject(new Vec2(10, 10))\n    ),\n]\n\nconst milkShakePoints = [\n    new Vec2(60, 110),\n    new Vec2(130, 490),\n    new Vec2(330, 490),\n    new Vec2(400, 110)\n]\n\nconst milkShakeLines = [\n    [milkShakePoints[0], Vec2Math.diff(milkShakePoints[0], milkShakePoints[1]).flip()],\n    [milkShakePoints[1], Vec2Math.diff(milkShakePoints[1], milkShakePoints[2]).flip()],\n    [milkShakePoints[2], Vec2Math.diff(milkShakePoints[2], milkShakePoints[3]).flip()]\n]\n\nconst ballsColors = {\n    57: '#ffffff',\n    78: '#ffffff',\n    71: '#ffffff',\n    86: '#ffffff',\n    200: '#ffffff',\n    202: '#ffffff',\n    218: '#ffffff',\n}\n\nexport class Render {\n    /**\n     * List of balls\n     * @type {RenderableObject[]}\n     */\n    objects = []\n\n    /**\n     * @type {Constrain}\n     */\n    constrains = null;\n\n    /**\n     * Solver for physics\n     * @type {Solver}\n     */\n    solver = null;\n\n    constructor(canvas) {\n        this.canvas = canvas;\n        this.context = this.canvas.getContext(\"2d\");\n\n        this.timeRenderStart = performance.now();\n        this.timeRenderEnd = performance.now();\n        this.step = 0;\n\n        /**\n         * @type {RenderableObject[]}\n         */\n        this.objects = [];\n\n        this.items = [];\n\n        this.generator = null;\n        this.solver = null;\n\n        this.configure();\n    }\n\n    configure() {\n        this.solver = new Solver();\n\n        this.context.font = '10px serif';\n\n        //this.switchToCircleConstrain();\n        this.switchToViewportConstrain();\n        this.solver.constrains = this.constrains;\n\n        const canvasCenter = new Vec2(\n            this.canvas.width / 2,\n            this.canvas.height / 2\n        );\n\n        const ballGeneratorPoint = new Vec2(\n            10, 10\n        );\n        const ballVelocity = new Vec2(\n            3, -3\n        ).mul(1/this.solver.subSteps);\n\n        this.generator = new TotalObjectsGenerator(\n            this.solver,\n            300,\n            10,\n            (index) => {\n                const obj = new RenderableObject(\n                    (new BallsObject(\n                        ballGeneratorPoint,\n                        10\n                    )).setVelocity(ballVelocity),\n                    new CircleWithText(\n                        this.context,\n                        Vec2.Zero(),\n                        10,\n                        ballsColors[index],\n                        index,\n                        '#000000'\n                    )\n                )\n\n                return obj;\n            }\n        );\n\n        this.addObject(new RenderableObject(\n            new ImmovableBallsObject(new Vec2(230, 50), 30),\n            new Circle(this.context, Vec2.Zero(), 30, '#ff0000')\n        ));\n\n        milkShakeLines.forEach(line => {\n            this.addObject(new ImmovableLineRenderableObject(\n                new ImmovableLineObject(\n                    line[0],\n                    line[1]\n                ),\n                new Line(\n                    this.context,\n                    Vec2.Zero(),\n                    Vec2.Zero(),\n                    '#ffffff'\n                )\n            ));\n        });\n    }\n\n    /**\n     * @param {RenderableObject} obj\n     */\n    addObject(obj) {\n        this.objects.push(obj);\n        this.solver.addObject(obj.ballsObject);\n    }\n\n    update(time) {\n        this.solver.update(time);\n    }\n\n    generatorsTick(time) {\n        const newBall = this.generator.getNextObject(time);\n        if (newBall) {\n            this.addObject(newBall)\n        }\n    }\n\n    tick() {\n        if (this.step < 0) {\n            this.step = 0;\n        }\n\n        this.generatorsTick(this.step / 1000);\n        this.update(this.step / 1000);\n\n        this.clear();\n        this.renderItems();\n\n        this.printFPS();\n    }\n\n    nextFrame = (time) => {\n        this.step = time - this.timeRenderEnd;\n        if (this.step < 0) {\n            this.step = 0;\n        }\n\n        this.tick();\n\n        this.timeRenderEnd = time;\n        self.requestAnimationFrame(this.nextFrame);\n    }\n\n    nextInterval = () => {\n        this.timeRenderStart = performance.now()\n        this.step = this.timeRenderStart - this.timeRenderEnd;\n\n        if (this.step < 0) {\n            this.step = 0;\n        }\n\n        this.tick();\n\n        this.timeRenderEnd = performance.now();\n    }\n\n    renderItems() {\n        this.items.forEach(item => item.render());\n        this.objects.forEach(obj => obj.render());\n    }\n\n    printText(text, x, y) {\n        this.context.fillStyle = \"#ffffff\";\n        this.context.textAlign = \"start\";\n        this.context.fillText(text, x, y);\n    }\n\n    printFPS() {\n        this.printText(`${Math.round(this.step)} ms / ${Math.round(1000/this.step)} FPS`, 0, 10);\n    }\n\n    clear() {\n        this.context.fillStyle = \"#ffffff\";\n        this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n    }\n\n    start() {\n        if (self.requestAnimationFrame) {\n            self.requestAnimationFrame(this.nextFrame);\n        } else {\n            setInterval(this.nextInterval, 16)\n        }\n    }\n\n    switchToCircleConstrain() {\n        this.constrains = new CircleConstrain(\n            new Vec2(this.canvas.width / 2, this.canvas.height / 2),\n            this.canvas.height / 2\n        )\n\n        this.items.push(\n            new Circle(\n                this.context,\n                this.canvas.width / 2,\n                this.canvas.height / 2,\n                this.canvas.height / 2,\n                '#000000'\n            )\n        );\n    }\n\n    switchToViewportConstrain() {\n        this.constrains = new ViewportConstrain(this.canvas.width, this.canvas.height)\n        this.items.push(\n            new Rect(\n                this.context,\n                Vec2.Zero(),\n                new Vec2(\n                    this.canvas.width,\n                    this.canvas.height\n                ),\n                '#000000'\n            )\n        );\n    }\n}","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","\"use strict\";\n\nmodule.exports = function (workerUrl, origin, isESM) {\n  if (origin === self.location.origin) {\n    // If the worker bundle's url is on the same origin as the document,\n    // use the worker bundle's own url.\n    return workerUrl;\n  } else {\n    // Otherwise, create a blob URL which loads the worker bundle with `importScripts`.\n    var source = isESM ? 'import ' + JSON.stringify(workerUrl) + ';' : 'importScripts(' + JSON.stringify(workerUrl) + ');';\n    return URL.createObjectURL(new Blob([source], {\n      type: 'application/javascript'\n    }));\n  }\n};","let workerURL = require('./helpers/get-worker-url');\nlet bundleURL = require('./helpers/bundle-url');\nlet url = bundleURL.getBundleURL('5d7Nu') + require('./helpers/bundle-manifest').resolve(\"gVigP\");module.exports = workerURL(url, bundleURL.getOrigin(url), false);","import { onReady }  from \"../utils/onReady\";\nimport { getElement } from \"../utils/getElement\";\nimport {Render} from \"../render\";\n\nfunction initApplication() {\n    console.log('Init application');\n    /**\n     * @var {HTMLCanvasElement}\n     */\n    const canvas = getElement(\"#image_canvas\");\n\n    if (canvas.transferControlToOffscreen) {\n        console.log('Render in worker');\n        const worker = new Worker(new URL('../worker/main.js', import.meta.url), {type: 'module'});\n        const offscreen = canvas.transferControlToOffscreen();\n        worker.postMessage({canvas: offscreen}, [offscreen]);\n    } else {\n        // There is no support for offscreen render\n        console.log('Render in main thread');\n        const render = new Render(canvas);\n        render.start();\n    }\n}\n\nonReady(initApplication);"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$58eda289ea048412$var$DOCUMENT_STATE_LOADING","$eac4a1d0ec467e0d$export$9a8db54f22040fa8","$9139f4380ced0e7c$export$2e2bcd8739ae039","obj","key","value","defineProperty","enumerable","configurable","writable","$f56376a5f2494ca1$export$9201df218db36553","$f56376a5f2494ca1$export$ea4075d7085bb1f7","$f56376a5f2494ca1$export$ac4bca90992eed1","add","vec2","this","x","y","sub","flipY","flipX","flip","equals","$f56376a5f2494ca1$export$92b0492af2e4b152","distance","sum","diff","mul","copy","Math","sqrt","normalized","l","perpendicular","Horizontal","Vertical","static","constructor","$f56376a5f2494ca1$export$769818a274da100a","inBetween","vec","l1","_vec1","l2","_vec2","a","b","error","abs","calculateKB","k","NaN","makeVec2FromX","moveBy","getPointProjection","direction","cosabD","dot","ort","B","K","_length","_direction","_normalized","vec1","Number","MAX_SAFE_INTEGER","Zero","$f56376a5f2494ca1$export$dd10cb6db43ac275","scalar","line1","line2","isNaN","line","normal","$f063daebf0665eed$export$6d08773d2e66f8f2","render","context","position","$ed739c01afcc0f09$export$c89a927ffc67e6fa","beginPath","arc","r","PI","fillStyle","color","fill","super","$d3f3a163527148d0$export$5d4ca3a6086ec22b","$d3f3a163527148d0$export$98ba063ffbc89e73","$d3f3a163527148d0$export$8e9beafd5d79f8f5","$f25c327de554914b$export$98e6d07575f46913","obj1","obj2","type","between","currentPosition","requiredDistance","radius","delta","bounceValue","$f25c327de554914b$export$23e74c69ee7b6dae","ball","immovable","$f25c327de554914b$export$6d6f4258faab0992","projectionPoint","_line","e","$f25c327de554914b$export$4d790f09e0e06cd9","$6215e14b39692a0d$export$e4134913c977dac4","update","step","velocity","previousPosition","acc","accelerate","setVelocity","vel","collide","v","movementVector","undefined","$e18f36a0ab1ee1a3$export$504c072c1a75a697","applyConstrain","$2ba0d4f1a77121a6$export$29fb847bec292dd0","width","_width","height","_height","$e1a9354934259beb$export$4384cf344d141b50","toCenter","center","n","$77242e0c215628b5$export$780b62e628ec518f","getNextObject","solver","$8f759762936427f5$export$cf86583e2e1a386b","timeout","object","$0b9f7d857f4d9b8d$export$a16316d22a718d27","total","limit","lastCreateTime","delay","newItem","create","count","createCallback","$81512f7a34cbe619$export$cca492cadf45c096","configure","gravity","useFixedTime","subSteps","addObject","objects","push","time","subTime","applyGravity","applyConstrains","processCollisions","updateObjects","forEach","constrains","objA","objB","$fd183cca0536a075$export$c79fc6492f3af13d","fillRect","size","$0e0cb4043c08d089$export$c682e94218fd2425","renderItem","ballsObject","$1f45c53986735cc8$export$231acc6c5e36d927","_fixedPosition","$4ea50bfaede81891$export$d17c9f1e24f0afb0","$d021cfadc934cfa3$export$35284351ee95db01","$7c9a976f6dfa6a2e$export$17d680238e50603e","strokeStyle","moveTo","lineTo","stroke","$c1ea9936536a0c7f$export$d56a2681f508d897","textColor","textBaseline","textAlign","fillText","text","$b87dd7b3c2f70655$var$milkShakePoints","$b87dd7b3c2f70655$var$milkShakeLines","$b87dd7b3c2f70655$var$ballsColors","$b87dd7b3c2f70655$export$160ae30d75f98247","font","switchToViewportConstrain","canvas","ballGeneratorPoint","ballVelocity","generator","index","generatorsTick","newBall","tick","clear","renderItems","printFPS","items","item","printText","round","start","self","requestAnimationFrame","nextFrame","setInterval","nextInterval","switchToCircleConstrain","timeRenderEnd","timeRenderStart","performance","now","getContext","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$export$5a759dc7a1cfb72a","$902f5cabe5153acc$exports","workerUrl","origin","isESM","location","source","stringify","URL","createObjectURL","Blob","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","$8ff44029270d1028$var$url","resolve","callback","$8ff44029270d1028$exports","console","log","selector","element","document","querySelector","transferControlToOffscreen","worker","Worker","offscreen","postMessage","readyState","addEventListener"],"version":3,"file":"index.5ed5374c.js.map"}